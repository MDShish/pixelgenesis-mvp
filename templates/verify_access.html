<!DOCTYPE html>
<html>
<head>
  <title>Verify Access Token</title>

  <style>
      /* =========================================================
         üåå CYBER AURORA BACKGROUND + FLOATING GLOWS
      ========================================================= */
      body {
          margin: 0;
          padding: 0;
          font-family: "Poppins", sans-serif;
          background: linear-gradient(150deg, #0b1220, #18263e, #0d1628);
          background-size: 300% 300%;
          animation: bgShift 14s ease-in-out infinite alternate;
          overflow-x: hidden;
          color: #eef4ff;
      }

      @keyframes bgShift {
          0% { background-position: 10% 20%; }
          50% { background-position: 90% 80%; }
          100% { background-position: 10% 20%; }
      }

      .glow {
          position: fixed;
          width: 460px;
          height: 460px;
          background: radial-gradient(circle, rgba(118,168,255,0.28), rgba(0,0,0,0));
          filter: blur(95px);
          border-radius: 50%;
          z-index: -1;
          animation: floatGlow 12s ease-in-out infinite alternate;
      }
      .glow:nth-child(1) { top: -130px; left: -90px; }
      .glow:nth-child(2) { bottom: -150px; right: -80px; animation-delay: 2s; }

      @keyframes floatGlow {
          from { transform: translate(0,0) scale(1); }
          to   { transform: translate(40px,40px) scale(1.22); }
      }

      /* =========================================================
         üßä GLASS CONTAINER + HOLOGRAPHIC BORDER
      ========================================================= */
      .container {
          width: 92%;
          max-width: 750px;
          margin: 100px auto;
          padding: 45px;
          background: rgba(255,255,255,0.06);
          backdrop-filter: blur(14px);
          border-radius: 28px;
          position: relative;
          animation: fadeUp 0.8s ease-out;
          box-shadow: 0 14px 45px rgba(0,0,0,0.55);
      }

      .container::before {
          content: "";
          position: absolute;
          inset: 0;
          padding: 2px;
          border-radius: 28px;
          background: linear-gradient(135deg,
              #4da3ff, #7c3cff, #ff3ccb, #ffa53c
          );
          background-size: 300% 300%;
          animation: borderMove 5s infinite linear;
          -webkit-mask:
              linear-gradient(#fff 0 0) content-box,
              linear-gradient(#fff 0 0);
          -webkit-mask-composite: xor;
                  mask-composite: exclude;
      }

      @keyframes borderMove {
          0% { background-position: 0% 50%; }
          50% { background-position: 100% 50%; }
          100% { background-position: 0% 50%; }
      }

      @keyframes fadeUp {
          from { opacity: 0; transform: translateY(40px); }
          to   { opacity: 1; transform: translateY(0); }
      }

      /* =========================================================
         HEADINGS + TEXT
      ========================================================= */
      h2 {
          text-align: center;
          font-size: 32px;
          font-weight: 800;
          margin-bottom: 10px;
          color: #ffffff;
          text-shadow: 0 0 12px rgba(255,255,255,0.4);
      }

      label {
          font-weight: 600;
          color: #dfe6ff;
          display: block;
          margin-bottom: 8px;
          font-size: 15px;
      }

      /* =========================================================
         INPUT FIELD
      ========================================================= */
      input {
          width: 100%;
          padding: 14px;
          background: rgba(255,255,255,0.08);
          border: 1px solid rgba(255,255,255,0.2);
          border-radius: 14px;
          font-size: 15px;
          color: #e8f0ff;
          outline: none;
          margin-bottom: 22px;
          transition: 0.25s ease;
      }

      input::placeholder { color: #a8b4d6; }

      input:focus {
          border-color: #55b0ff;
          box-shadow: 0 0 12px rgba(77,163,255,0.6);
          background: rgba(255,255,255,0.15);
          transform: translateY(-2px);
      }

      /* =========================================================
         NEON BUTTON (Ripple + Lift)
      ========================================================= */
      button, .btn {
          width: 100%;
          padding: 16px;
          margin-top: 10px;
          border-radius: 14px;
          border: none;
          cursor: pointer;
          background: linear-gradient(135deg, #5ab4ff, #1f6df0);
          background-size: 250% 250%;
          font-size: 17px;
          font-weight: 700;
          color: white;
          box-shadow: 0 6px 22px rgba(56,120,255,0.45);
          transition: 0.35s ease;
          position: relative;
          overflow: hidden;
      }

      button:hover, .btn:hover {
          transform: translateY(-4px);
          background-position: 100% 0;
          box-shadow: 0 10px 26px rgba(78,163,255,0.75);
      }

      button::after, .btn::after {
          content:"";
          position:absolute;
          width:0;
          height:0;
          border-radius:50%;
          background: rgba(255,255,255,0.25);
          top:50%;
          left:50%;
          transform:translate(-50%,-50%);
          transition:0.45s ease;
      }

      button:hover::after, .btn:hover::after {
          width:260px;
          height:260px;
      }

      /* =========================================================
         ALERT BOXES
      ========================================================= */
      .success-box {
          background: rgba(70,200,120,0.2);
          border: 1px solid #48e07a;
          color: #caffdd;
          padding: 14px;
          border-radius: 12px;
          font-weight: 700;
          margin-top: 20px;
      }

      .error-box {
          background: rgba(255,85,85,0.18);
          border: 1px solid #ff5c5c;
          color: #ffb2b2;
          padding: 14px;
          border-radius: 12px;
          font-weight: 700;
          margin-top: 20px;
      }

      /* =========================================================
         JSON DISPLAY CARD
      ========================================================= */
      .info-card {
          background: rgba(255,255,255,0.07);
          border: 1px solid rgba(255,255,255,0.18);
          padding: 20px;
          border-radius: 18px;
          margin-top: 25px;
          box-shadow: 0 6px 20px rgba(0,0,0,0.45);
      }

      .json-box {
          background: rgba(5,5,5,0.65);
          color: #d4d4d4;
          padding: 16px;
          border-radius: 14px;
          font-family: Consolas, monospace;
          white-space: pre-wrap;
          font-size: 14px;
          margin-top: 12px;
      }

      a {
          color: #8ec5ff;
          text-decoration: none;
          font-weight: 600;
          display: block;
          margin-top: 15px;
          text-align: center;
      }
      a:hover { color: #cfe6ff; }
  </style>

</head>
<body>

<div class="glow"></div>
<div class="glow"></div>

<div class="container">

<h2>üîç Verify Access Token</h2>

<form method="POST">
    <label>Enter Token:</label>
    <input type="text" name="token" placeholder="paste your token here" required>
    <button type="submit">Verify Token</button>
</form>

{% if error %}
  <div class="error-box">‚ùå {{ error }}</div>
{% endif %}

{% if success %}
  <div class="success-box">‚úî Token is valid</div>
{% endif %}

{% if structured %}
  <div class="info-card">
      <h3 style="margin-top:0; color:#fff;">üì¶ Structured Response</h3>
      <div class="json-box">
          {{ structured | tojson(indent=2) }}
      </div>
  </div>
{% endif %}

{% if file_url %}
  <div class="info-card">
      <p><b style="color:#fff;">File CID:</b> {{ value }}</p>
      <p><b style="color:#fff;">File URL:</b> <a href="{{ file_url }}" target="_blank">{{ file_url }}</a></p>

      {% if structured.encrypted %}
        <p style="color:#ffb2b2;">
          üîê This file is AES-256 encrypted ‚Äî requires 2 Shamir shares.
        </p>
        <a class="btn" href="/shamir/recover">Recover Encryption Key</a>
      {% endif %}
  </div>
{% endif %}

<a href="/">üè† Home</a>

</div>
</body>
</html>
