<!DOCTYPE html>
<html>
<head>
    <title>Create DID</title>

    <style>
        /* --------------------------------------
           üåå HOLOGRAPHIC ANIMATED BACKGROUND
        --------------------------------------- */
        body {
            margin: 0;
            padding: 0;
            font-family: "Poppins", sans-serif;
            background: linear-gradient(135deg, #0a1229, #16234a, #111b32);
            background-size: 300% 300%;
            animation: bgShift 12s ease infinite alternate;
            overflow-x: hidden;
            color: #eaf2ff;
        }

        @keyframes bgShift {
            0% { background-position: 0% 40%; }
            50% { background-position: 100% 60%; }
            100% { background-position: 0% 40%; }
        }

        /* Floating blue nebula glows */
        .glow {
            position: fixed;
            width: 480px;
            height: 480px;
            background: radial-gradient(circle, rgba(77,143,255,0.3), rgba(0,0,0,0));
            filter: blur(110px);
            border-radius: 50%;
            z-index: -1;
            animation: float 11s ease-in-out infinite alternate;
        }
        .glow:nth-child(1) { top: -90px; left: -100px; }
        .glow:nth-child(2) { bottom: -120px; right: -100px; animation-delay: 2s; }

        @keyframes float {
            from { transform: translate(0,0) scale(1); }
            to   { transform: translate(50px,50px) scale(1.25); }
        }

        /* --------------------------------------
           üßä NEON GLASS CARD
        --------------------------------------- */
        .container {
            width: 90%;
            max-width: 750px;
            margin: 100px auto;
            padding: 55px 45px;
            border-radius: 30px;
            background: rgba(255,255,255,0.07);
            backdrop-filter: blur(16px);
            position: relative;
            box-shadow: 0 12px 45px rgba(0,0,0,0.55);
            animation: fadeUp 0.8s ease-out;
        }

        /* Neon border animation */
        .container::before {
            content: "";
            position: absolute;
            inset: 0;
            padding: 2px;
            border-radius: 30px;

            background: linear-gradient(135deg, #4da3ff, #7c3cff, #ff3ccb, #ffa53c);
            background-size: 350% 350%;
            animation: borderRun 6s linear infinite;

            -webkit-mask: 
                linear-gradient(#fff 0 0) content-box,
                linear-gradient(#fff 0 0);
            -webkit-mask-composite: xor;
                    mask-composite: exclude;
        }

        @keyframes borderRun {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        @keyframes fadeUp {
            from { opacity: 0; transform: translateY(40px); }
            to   { opacity: 1; transform: translateY(0); }
        }

        /* --------------------------------------
           TEXT
        --------------------------------------- */
        h2 {
            text-align: center;
            font-size: 34px;
            font-weight: 800;
            color: #ffffff;
            margin-bottom: 20px;
            text-shadow: 0 0 12px rgba(255,255,255,0.4);
        }

        .desc {
            text-align: center;
            color: #c8d6ff;
            margin-bottom: 30px;
            font-size: 15px;
        }

        .success {
            background: rgba(40,255,140,0.22);
            border: 1px solid #48e07a;
            padding: 14px;
            border-radius: 12px;
            text-align: center;
            font-weight: 700;
            margin-bottom: 18px;
            color: #ceffe9;
            animation: glowPulse 2s infinite ease-in-out;
        }

        @keyframes glowPulse {
            0% { box-shadow: 0 0 10px rgba(0,255,140,0.35); }
            50% { box-shadow: 0 0 20px rgba(0,255,140,0.7); }
            100% { box-shadow: 0 0 10px rgba(0,255,140,0.35); }
        }

        .field-label {
            margin-top: 18px;
            margin-bottom: 6px;
            font-size: 16px;
            font-weight: 600;
            color: #d7e2ff;
        }

        .code-box {
            background: rgba(255,255,255,0.06);
            border: 1px solid rgba(255,255,255,0.25);
            padding: 15px;
            border-radius: 14px;
            color: #eaf2ff;
            font-size: 15px;
            word-wrap: break-word;
            margin-bottom: 12px;
        }

        .warn {
            border-color: #ff6b6b !important;
            color: #ffb5b5 !important;
        }

        /* --------------------------------------
           üîµ MAGIC BUTTON (NEON)
        --------------------------------------- */
        .btn, button {
            width: 100%;
            padding: 16px;
            border-radius: 14px;
            background: linear-gradient(135deg, #4da3ff, #1c6ee8);
            border: none;
            color: #fff;
            font-weight: 700;
            cursor: pointer;
            font-size: 17px;
            margin-top: 18px;

            box-shadow: 0 5px 25px rgba(0,0,0,0.45);
            position: relative;
            overflow: hidden;
            transition: .3s;
            text-align: center;
            text-decoration: none;
            display: block;
        }

        .btn:hover, button:hover {
            transform: translateY(-4px);
            box-shadow: 0 10px 35px rgba(78,163,255,0.7);
        }

        /* Ripple effect */
        .btn::after, button::after {
            content: "";
            position: absolute;
            width: 0; height: 0;
            background: rgba(255,255,255,0.25);
            border-radius: 50%;
            top: 50%; left: 50%;
            transform: translate(-50%,-50%);
            transition: width .45s ease, height .45s ease;
        }

        .btn:hover::after, button:hover::after {
            width: 260px;
            height: 260px;
        }

    </style>
</head>

<body>

<div class="glow"></div>
<div class="glow"></div>

<div class="container">
    <h2>üÜî Create Your Decentralized ID</h2>

    {% if registered %}

        <div class="success">üéâ DID Generated Successfully!</div>

        <div class="field-label">Your DID:</div>
        <div class="code-box">{{ did }}</div>

        <div class="field-label">Public Key:</div>
        <div class="code-box">{{ public_key }}</div>

        <div class="field-label">Private Key (store securely):</div>
        <div class="code-box warn">{{ private_key }}</div>

        <form action="/auto_login" method="POST">
            <input type="hidden" name="did" value="{{ did }}">
            <input type="hidden" name="private_key" value="{{ private_key }}">
            <button type="submit" class="btn">üöÄ Auto Login</button>
        </form>

        <a href="/" class="btn">üè† Back Home</a>

    {% else %}

        <p class="desc">Click the button below to generate a fresh DID using <b>Ed25519 cryptographic keys</b>.</p>

        <form method="POST">
            <button type="submit" class="btn">‚ö° Generate DID</button>
        </form>

        <a href="/" class="btn">üè† Back Home</a>

    {% endif %}
</div>

</body>
</html>
